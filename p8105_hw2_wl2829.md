p8105\_hw2\_wl2829
================
Wentong
10/5/2021

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
```

# Problem 1

## Read and clean the Mr. Trash Wheel dataset.

``` r
MrTrash_df = 
  readxl::read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = 1, 
                     range = cell_cols("A:N"), na = "", col_names = TRUE) %>% 
  janitor::clean_names() %>% 
  na.omit(dumpster) %>% 
  mutate(sports_balls = round(sports_balls, 0))
```

## Read and clean the precipitation data in 2018.

``` r
Precipitation_2018 = 
  readxl::read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = 5, 
                     range = "A2:B14") %>% 
  mutate(Year = "2018") %>%
  relocate(Year, Month)

Precipitation_2019 =
  readxl::read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = 4, 
                     range = "A2:B14", na = "") %>% 
  mutate(Year = "2019") %>% 
  relocate(Year, Month)

Combined_dataset = 
  merge(Precipitation_2018, Precipitation_2019, by = c("Year", "Month", "Total"), all = TRUE) %>% 
  mutate(Month = month.name[Month])
```

# Problem 2

## Clean the data in pols-month.csv

``` r
pols_month = 
  read_csv("./data/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, c("year", "month", "day"), sep = "-") %>%
  mutate(month = round(as.numeric(month, 0))) %>% 
  mutate(month = month.name[month]) %>% 
  mutate(president = paste(prez_gop, prez_dem)) %>% 
  subset(select = -c(prez_gop, prez_dem, day))
```

    ## Rows: 822 Columns: 9

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp = 
  read_csv("./data/snp.csv") %>% 
  janitor::clean_names() %>%
  mutate(date = as.Date(date, format = "%m/%d/%y")) %>% 
  separate(date, c("year", "month", "day"), sep = "-") %>%
  mutate(month = round(as.numeric(month, 0))) %>% 
  mutate(month = month.name[month]) %>% 
  subset(select = -c(day))
```

    ## Rows: 787 Columns: 2

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
